---
title: "AI Podcast:HackerVoiceã®ãƒªãƒªãƒ¼ã‚¹, ãã®è£å´"
emoji: "ğŸ§‘â€ğŸ’»"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["llm", "ç”Ÿæˆai", "Python", "TypeScript", "nextjs"]
published: true
---

# AI Podcast: HackerVoiceã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ!

![](https://storage.googleapis.com/zenn-user-upload/55ae59d638f1-20250216.png)

https://hackervoice.vercel.app/ja

ãƒ‡ãƒ¢å‹•ç”»

https://www.youtube.com/watch?v=1lsP7VpOWi8

Y CombinatorãŒç®¡ç†ã™ã‚‹æµ·å¤–ã®æ²ç¤ºæ¿HackerNewsã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã€AIã«ã‚ˆã£ã¦Podcastã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚æ©Ÿèƒ½ã®æ¦‚è¦ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- HackerNewsã®æœ€æ–°æƒ…å ±5é¸ã‚’ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§ãŠä¼ãˆ
- æ—¥æœ¬èªç‰ˆã€è‹±èªç‰ˆã©ã¡ã‚‰ã§ã‚‚è´ã‘ã‚‹
- Gemini+TTSã§æ¯æ—¥è‡ªå‹•æ›´æ–°
- Spotify, Apple Podcastsã«å¯¾å¿œ
- RSS Feedå¯¾å¿œ

https://open.spotify.com/show/2I2KC9SRnJBSTEJW3rINor?si=LyESpAKYQPiJ9uZbH8mczg

https://podcasts.apple.com/us/podcast/hackervoice-ja/id1796645071

æœ¬ç¨¿ã§ã¯ã€ã“ã®ã‚¢ãƒ—ãƒªã®è£å´ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚

## ğŸ™ï¸ é–‹ç™ºã®èƒŒæ™¯
HackerVoiceã¯ã€HackerNewsã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’åŠ¹ç‡çš„ã«ã‚­ãƒ£ãƒƒãƒã‚¢ãƒƒãƒ—ã—ã€æ‰‹è»½ã«æœ€æ–°ã®æŠ€è¡“ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è´ã‘ã‚‹ç’°å¢ƒã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«é–‹ç™ºã—ã¾ã—ãŸã€‚

å…ƒã€…HackerNewsã®å­˜åœ¨è‡ªä½“ã¯çŸ¥ã£ã¦ã„ã¦ã€Twitterã®æ—¥æœ¬èªè¨³ã‚¿ã‚¤ãƒˆãƒ«ç´¹ä»‹çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ã„ãŸã®ã§ã™ãŒã€(ãŠãã‚‰ã)Xã®APIä¾¡æ ¼æ”¹å®šã«ã‚ˆã£ã¦ãŠäº¡ããªã‚Šã«ãªã£ã¦ã‹ã‚‰å…¨ãHackerNewsã‚’è¦‹ã‚‹ã“ã¨ã¯ç„¡ããªã‚Šã¾ã—ãŸã€‚

ãã®å¾Œã€(Zennã®ä½œè€…ã§ã‚‚ã‚ã‚‹)catnoseã•ã‚“ã®æ—¥æœ¬èªã¾ã¨ã‚ã‚µã‚¤ãƒˆã‚’è¦‹ã¦ã„ã¾ã—ãŸã€‚

https://catnose.me/lab/hackernews-ja

ãã®å¾Œã€æœˆæ›œæ—¥ã®~~æ†‚é¬±ãª~~é«˜æ ¡ã®é€šå­¦æ™‚é–“ã«ã€Œæ˜æ²» presents èŠ±æ¾¤é¦™èœã®ã²ã¨ã‚Šã§ã§ãã‚‹ã‹ãªï¼Ÿã€ã‚’èãå§‹ã‚ãŸã®ã‚’ãã£ã‹ã‘ã«ã€ãƒ©ã‚¸ã‚ªãƒ»Podcastã«ãƒãƒã‚Šã¾ã—ãŸ (ãœã²ã§ãã‚‹ã‹ãªèã„ã¦ãã ã•ã„)ã€‚

https://www.joqr.co.jp/qr/program/dekirukana/

ãã“ã‹ã‚‰ã€Œè‡ªåˆ†ãŒHackerNewsã®ãƒˆãƒ”ãƒƒã‚¯ã‚’è©±ã™Podcastã‚’å§‹ã‚ãŸã‚‰ãˆãˆã‚„ã‚“!ã€ã¨æ€ã„ã¤ãã®ã§ã™ãŒã€è‡ªåˆ†ã§ãã‚Œã‚’ã‚„ã‚‹ã®ã¯ä¸‰æ—¥ã¨ç¶šã‹ãªã„ã®ã§ã€æ˜¨å¹´ã«è©±é¡Œã«ãªã£ãŸzenncastã‚’æ€ã„å‡ºã—ã€HackerNewsã‚’å–ã‚Šã¾ã¨ã‚ã‚‹AI Podcastã‚’è‡ªåˆ†ã§ä½œã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

https://zenn.dev/himara2/articles/db054d81b05d19

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
HackerVoiceã®é–‹ç™ºã«ã¯ã€ä»¥ä¸‹ã®æŠ€è¡“ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚TTSä»¥å¤–ã¯ç„¡æ–™æ ã§ç¨¼åƒã—ã¦ã„ã¦ã€1è©±ã®è²»ç”¨ã¯20-30å††ä»¥ä¸‹ã«åã¾ã£ã¦ã„ã¾ã™ã€‚

- **ãƒ‡ãƒ¼ã‚¿åé›†**: HackerNews API
- **PodcaståŸç¨¿**: Gemini
- **éŸ³å£°åˆæˆ+å‡¦ç†**: OpenAI TTS + ffmpeg
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js
- **ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: Cloudflare R2
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼‹å®šæœŸå®Ÿè¡Œ**: Vercel, GitHub Actions

## ğŸ¤–è‡ªå‹•åŒ–ã•ã‚ŒãŸãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆç”Ÿæˆ

HackerVoiceã§ã¯ã€HackerNewsã®æœ€æ–°è¨˜äº‹ã‚’è‡ªå‹•åé›†ã—ã€éŸ³å£°å¤‰æ›ã‹ã‚‰é…ä¿¡ã¾ã§ã‚’å®Œå…¨è‡ªå‹•åŒ–ã™ã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ãã®è©³ç´°ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’èª¬æ˜ã—ã¾ã™ã€‚

### ğŸŒã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‡ãƒ¼ã‚¿ã®å–å¾—

HackerNewsã¯å…¬å¼ã«APIãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚HackerNewsã¯ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚¹ãƒ¬ãƒƒãƒ‰é–¢ä¿‚ãªãåŒä¸€ã®idã§ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://github.com/HackerNews/API

ä¾‹ãˆã°ç¾åœ¨ã®Top 5ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’è¡Œãªã£ã¦ã„ã¾ã™

```python
BASE_URL = "https://hacker-news.firebaseio.com/v0"

def get_top_story(limit):
    """ãƒˆãƒƒãƒ—ãƒ‹ãƒ¥ãƒ¼ã‚¹ã® ID ãƒªã‚¹ãƒˆã‚’å–å¾—"""
    logging.info("Fetching top stories")
    top_stories_url = f"{BASE_URL}/topstories.json"
    try:
        top_story_ids = requests.get(top_stories_url).json()
    except:
        logging.error(f"Fetched failed: {len(top_story_ids)}, Retrying...")
        time.sleep(1)
        top_story_ids = requests.get(top_stories_url).json()
    logging.info(f"Fetched {len(top_story_ids)} top stories")
    return top_story_ids[0:limit]
```

ã¾ãŸã€è¨€åŠå…ˆã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦ã‚‚ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’è¡Œãªã£ã¦ãŠã‚Šã€Beautiful soupã§bodyã‚’å–ã£ã¦ãã¦ã„ã¦

```json
{
    "title": "è¨€åŠå…ˆã®è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«",
    "item_id": ãƒãƒƒã‚«ãƒ¼ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®id,
    "url": "è¨€åŠå…ˆã®URL",
    "body": "è¨˜äº‹ã®å†…å®¹",
    "comments": [
        {
            "text": "ã‚³ãƒ¡ãƒ³ãƒˆã®å†…å®¹",
            "kids": [
              {
                "text": "ã‚³ãƒ¡ãƒ³ãƒˆã®ãƒªãƒ—ãƒ©ã‚¤"
                "kids": []
              }
            ]
        },
     
},
```

ã“ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦ã¯ã€å¯¾è©±é–¢ä¿‚ã‚’å–ã‚Šä¸Šã’ãŸã„ãŸã‚ã€ã‚³ãƒ¡ãƒ³ãƒˆã¯3ä»¶ã¾ã§ãƒªãƒ—ãƒ©ã‚¤ã‚’åºƒã„ã€å…¨ä½“ã§ã¯5ä»¶ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚

### ğŸ“ƒåŸç¨¿ä½œæˆ

ãƒˆãƒ¼ã‚¯ãƒ³é‡ã®å¤šã•ã€APIã‚³ã‚¹ãƒˆã®ç‚¹ã‹ã‚‰è¨€èªãƒ¢ãƒ‡ãƒ«ã«ã¯Gemini 2.0 Flashã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚

ä¸€åº¦ã¯summary.jsonã¨ã„ã†ã€è¨˜äº‹ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã®ã‚µãƒãƒªãƒ¼ã‚’ä½œã‚‹éç¨‹ã‚’GPT-4oã§æŒŸã‚“ã§ã„ã¾ã—ãŸãŒã€ã‚³ã‚¹ãƒˆé¢ã€é¢ç™½ã•ã€è¨±å®¹ãƒˆãƒ¼ã‚¯ãƒ³é‡ã®è¦³ç‚¹ã‹ã‚‰ã€Gemini 2.0 Flashã§åŸç¨¿ã‚’ãã®ã¾ã¾ä½œã‚‹æ–¹å‘ã«ã—ã¾ã—ãŸã€‚

:::details åŸç¨¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```text
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Role & Context:

You are an experienced technology journalist and podcast host. Write a podcast script for â€œHackerVoiceâ€, a tech podcast covering trending news from Hacker News. The script will be delivered by a single narrator as a monologue with two distinct roles: the host and the expert. The host (mc/å¸ä¼š) will handle the main narration, including news introductions and transitions. The expert will provide the commentary on Hacker News community insights. This script should feel like a story being told to the listener.

Audience & Tone:

â€¢ Target a broad tech-savvy audience, including Hacker News regulars as well as non-native English speakers who are learning the language. The language should be formal yet accessible, avoiding slang or overly complex words.

â€¢ Maintain a professional but engaging tone â€“ authoritative and informative, yet friendly and lively. Do not oversimplify the content; assume listeners have some tech background, but provide enough context for newcomers or English learners to follow along.

â€¢ Address the listener directly in a conversational manner (using â€œyouâ€ or inclusive â€œweâ€ where appropriate) to create connection. Keep the tone curious and engaging, but not overly casual.

Format & Length:

â€¢ The script should be about 1200 words (approximately 9 minutes of spoken content).

â€¢ Write in a style suitable for text-to-speech (TTS) delivery: use natural phrasing and clear pronunciation cues. Break up very long sentences and use commas or periods where a speaker would pause. Avoid tongue-twisters or complex alliterations that might trip up a TTS system.

â€¢ Ensure the script reads smoothly when spoken aloud, avoiding unnatural intonation or phrasing.

Structure & Flow:

1. Introduction (~150-200 words)
   - Start with:
     "Hello! Welcome to HackerVoice, the technology podcast that brings you the most talked-about stories from Hacker News in a way thatâ€™s clear, insightful, and engaging. Today, weâ€™re diving into:"
   - List the news topics in an engaging way, ensuring a smooth flow.
   - Include an attention-grabbing hook (e.g., â€œMetaâ€™s hyperscale infrastructure is a marvel of engineering, but is it sustainable in the long run? Letâ€™s explore.â€)
   - Set the tone for the episode and briefly explain what listeners can expect.
   - This entire introduction is handled by the host (mc/å¸ä¼š).

2. News Segments (5 stories, each ~200 words)
   - For each news item:
     1. Announce the title clearly.
     2. Summarize the article content in a smooth, engaging, and digestible way.
     3. Explain any technical terms briefly where needed (e.g., "Serverless architecture means developers donâ€™t have to manage physical servers directly, but rather rely on cloud-based infrastructure").
     4. Incorporate 1-2 key community comments from Hacker News:
         - The host introduces the news and then hands off to the expert for community comments.
         - Instead of saying â€œA user said â€˜This is amazing!â€™â€, the expert will say something like:
           â€œOne Hacker News commenter pointed out that Metaâ€™s ability to move this fast is nothing short of remarkable.â€
         - If there are differing perspectives, the expert should say:
           â€œWhile some users praised the speed, others argued that Threads felt rushed and lacked depth.â€
     5. Ensure smooth transitions between stories with the host guiding the flow (e.g., â€œMeanwhile, in another part of the tech worldâ€¦â€).

3. Conclusion (~150-200 words)
   - Recap the covered topics: â€œThatâ€™s a wrap for today! We exploredâ€¦â€ (list the topics briefly).
   - Offer a final thought or a small teaser for future discussions.
   - End with a clear sign-off: â€œUntil next time, this was HackerVoice!â€
   - The conclusion is delivered solely by the host.

Incorporating Hacker News Comments:

â€¢ Introduce community insights naturally. For example, after summarizing a news story, the host might say, â€œLetâ€™s see what the Hacker News community had to say about this.â€ Then the expert provides the commentary.

â€¢ Balance different opinions by paraphrasing various perspectives, ensuring a natural and conversational style.

Engagement & Storytelling:

â€¢ Use storytelling techniques to make the news compelling. Frame topics as challenges or controversies, and highlight interesting or unexpected details.

â€¢ Use hooks and curiosity to keep listeners engaged, such as â€œWhy did a simple software update crash thousands of servers overnight? The answer might surprise you.â€

â€¢ Use examples and analogies to clarify complex ideas, ensuring the content remains accessible to both tech experts and newcomers.

Clarity & Technical Explanations:

â€¢ When introducing technical terms, provide concise definitions to ensure clarity without overwhelming non-expert listeners.

â€¢ Balance technical depth with accessibility, ensuring that explanations are brief yet informative.

Additional Guidelines:

â€¢ The script must be formatted in JSON with the following structure:

{
    "reciter": [
        "host", "expert"
    ],
    "script": [
        {
            "role": "host",
            "sentence": "Hello, this is HackerVoice...."
        },
        {
            "role": "expert",
            "sentence": "One Hacker News commenter noted..."
        },
        ...
    ]
}

â€¢ The host (mc/å¸ä¼š) is responsible for the overall narration, news introductions, and transitions.
â€¢ The expert is responsible only for presenting and commenting on Hacker News community insights.
â€¢ Use natural language suitable for TTS, ensuring smooth flow and clear pronunciation cues.
â€¢ When introducing technical terms, provide concise definitions to maintain clarity without overwhelming non-expert listeners.
â€¢ Keep the tone professional, engaging, and informative while directly addressing the listener.
â€¢ Ensure the overall script reads as a cohesive story, not as isolated news segments.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```

:::

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã«ã¯DeepResearchã‚’å¤šç”¨ã—ã¾ã—ãŸã€‚ã“ã®æ‰‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã«ã¯ã€ã€Œæœ€æ–°ã®è«–æ–‡ã‚’åé›†ã—ã¦ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã£ã¦ã€ã€œã€œã€œã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€by o1-proã«ã—ã¦ãŠãã¨ã€ãã“ã«ã¯æ¦‚ã­è‰¯ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒå‡ºæ¥ä¸ŠãŒã£ã¦ã„ã¾ã™ã€‚

:::details ã‚µãƒãƒªãƒ¼ã®ãŸã‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```markdown
Translate the title and summarize the content of a news article based on its data (title, URL, article content, and comments), including the article's summary, and main discussion points from the comments in approximately 700 characters, and provide your opinion in English. Use a chain-of-thought approach to ensure thorough analysis and reasoning. Follow the template below.

Start by including the original title. Clearly discuss the opinions and flow of the discussion from the comments, including different perspectives, and more frankly summarize the comments' remarks in a conversational style. Incorporate emotional elements and tone of comments by quoting impactful phrases. Finally, present your opinion.

# Title
[Original Title Here]

## Article Content

- Summarize the main points and background of the article.

## Key Comment 1

- Highlight the main idea and tone of comment 1.
- Discuss any reasoning or logic presented.
- Use clear, conversational English with frankness.
- Quote impactful phrases that convey emotion.

## Key Comment 2

- Highlight the main idea and tone of comment 2.
- Discuss any reasoning or logic presented.
- Use clear, conversational English with frankness.
- Quote impactful phrases that convey emotion.

## Key Comment 3

- Highlight the main idea and tone of comment 3.
- Discuss any reasoning or logic presented.
- Use clear, conversational English with frankness.
- Quote impactful phrases that convey emotion.

## Key Comment 4

- Highlight the main idea and tone of comment 4.
- Discuss any reasoning or logic presented.
- Use clear, conversational English with frankness.
- Quote impactful phrases that convey emotion.

## Key Comment 5

- Highlight the main idea and tone of comment 5.
- Discuss any reasoning or logic presented.
- Use clear, conversational English with frankness.
- Quote impactful phrases that convey emotion.

## My Opinion (This refers to your perspective)

- Present your view, considering the discussions and comments.
- Provide reasoning for your opinion.

# Output Format

- Approximately 400 words for the summary and discussion.
- Organize using the provided template and headings.

# Steps

1. Begin with the original news article title
2. Summarize the article content focusing on the main points.
3. Analyze and describe key comments, emphasizing their impact and reasoning.
4. Present your own opinion with supported reasoning.

# Notes

- Ensure all parts are in English as the translation will occur in a separate phase.
- Encourage reasoning steps before conclusions are provided for clarity.
```

:::

ã‚µãƒãƒªãƒ¼+åŸç¨¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®Youtubeã«æŠ•ç¨¿ã—ã¦ã„ã¾ã™ã€‚

https://www.youtube.com/watch?v=3RAGuwFy2vk

åŸç¨¿ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

```json
{
    "script": [
        {
            "role": "host",
            "sentence": "Hello! Welcome to HackerVoice, the technology podcast that brings you the most talked-about stories from Hacker News in a way thatâ€™s clear, insightful, and engaging. Today, weâ€™re diving into:"
        },
      ...
        {
            "role": "expert",
            "sentence": "In HackerNews Comment..."
        },
    ]
}
```

ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã”ã¨ã«sentenceã‚’ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚

### ğŸ—£ï¸ éŸ³å£°åˆæˆæŠ€è¡“ã®é¸å®šã¨æœ€é©åŒ–

è‡ªç„¶ã§èãã‚„ã™ã„éŸ³å£°ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã€OpenAIã®TTSã‚’ç”¨ã„ãŸåˆæˆæŠ€è¡“ã‚’æ¡ç”¨ã—ã€è©±ã—æ–¹ã‚„æŠ‘æšã®èª¿æ•´æ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚

å…ˆè¿°ã—ãŸé€šã‚Šã€TTSã«ã¯OpenAIã®TTS-1ã‚’é¸æŠã—ã¾ã—ãŸã€‚åˆæˆéŸ³å£°ã¨ã—ã¦ã¯ä»–ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã‚’è©¦ã—ã¾ã—ãŸã€‚

- ã«ã˜ãƒœã‚¤ã‚¹
- ElevenLabs
- Coefont
- Voicevox
- [japanese-parler-tts-mini](https://huggingface.co/2121-8/japanese-parler-tts-mini)

ElevenLabsã®éŸ³å£°ãŒå®Œæˆåº¦ãŒé«˜ã„ã®ã§ã™ãŒã€ã‚³ã‚¹ãƒˆã¨è‡ªç„¶ã•ã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„TTS-1ã«ã—ã¾ã—ãŸã€‚

https://elevenlabs.io/app/share/pglDvM4qD6r83Kse3UCR

ã¾ãŸã€åŸç¨¿ä½œæˆæŒ‡ç¤ºã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã€èª­ã¿ã«ãã„ã¨è€ƒãˆã‚‰ã‚Œã‚‹å˜èªã‚’ã‚«ã‚¿ã‚«ãƒŠã§æ›¸ã„ã¦ã‚‚ã‚‰ã†ã“ã¨ã§ã€å¤šå°‘èãå–ã‚Šã‚„ã™ã•ã‚’æ”¹å–„ã—ã¦ã„ã¾ã™ã€‚ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¯HostãŒã€ã‚³ãƒ¡ãƒ³ãƒˆã¯ExpertãŒç´¹ä»‹ã™ã‚‹æ§‹æˆã«ãªã£ã¦ã„ã‚‹ã®ã§ã€TTSã«ã¯ä»¥ä¸‹ã®æ‰‹é †ã‚’è¸ã‚“ã§ã„ã¾ã™ã€‚

```python
def tts(paper, workdir):
    logging.info("TTS Started!")

    voice_mapping = {
        "host": "alloy",
        "expert": "coral"
    }

    client = OpenAI(api_key=os.environ["GPTAPIKEY"])
    
    script_entries = paper.get("script", [])
    
    for i, entry in enumerate(script_entries):
        sentence = entry.get("sentence", "")
        role = entry.get("role", "host") 
        voice = voice_mapping.get(role, "alloy")
 
        response = client.audio.speech.create(
            model="tts-1",
            voice=voice,
            input=sentence,
        )
        
        output_file = os.path.join(workdir, f"speech_temp_{i}.mp3")
        response.stream_to_file(output_file)
        logging.info(f"TTS chunk {i+1}/{len(script_entries)} finished using voice '{voice}'.")
    
    logging.info("TTS Finished!")
```

ãã®å¾Œã®éŸ³å£°å‡¦ç†ã§ã€ç•ªå·é †ã«é€£çµã—ã¦ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚

### ğŸ“ˆéŸ³å£°å‡¦ç†

éŸ³å£°å‡¦ç†ã«ã¯ffmpegã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¾ãšã€`speech_temp_[0-9].mp3`ã‚’é€£ç•ªã§é€£çµã—ã¾ã™ã€‚ãã®å¾Œã€ç™ºè©±ã®éŸ³å£°ãŒå°ã•ã„é–¢ä¿‚ä¸Š10dbä¸Šã’ã¦ã‹ã‚‰ã€BGMã‚’ç¹‹ã’ã¦ã„ã¾ã™ã€‚

BGMã¯BGMeræ§˜ã®å†ä¼šã®èª“ã„, J4U - Liquid Bed 11PMã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

### ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ä¿å­˜

éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã¯Cloudflare R2ã«ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚R2ã¯ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒ10GBã¾ã§ç„¡æ–™ã§ã€ç‰¹ã«ä¸‹ã‚Šã®é…ä¿¡ã®é™åº¦é‡ãŒå¤§ãã„ã“ã¨ãŒæ±ºã‚æ‰‹ã«ãªã£ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€ä¸€è©±ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™(å¾Œã‹ã‚‰è¿½åŠ ã—ãŸã®ã§æ±šã„ãŒ...)ã€‚

```json
  {
      "id": 1,
      "date": "2025-02-13",
      "title": "Podcast Episode 1",
      "audioUrl": "https://hackervoice.app/2025-02-13T20:08:10.027387.mp3",
      "transcript": "åŸç¨¿",
      "news": [
          {
              "title": "Why young parents should focus on building trust with their kids",
              "item_id": 43033463,
              "url": "https://desunit.com/blog/marshmallow-test-and-parenting/",
          },
        ...
      ],
      "uuid": "4304d123-5181-4072-81c8-b7fa9b271fab",
      "duration": 518,
      "episodelength": 3532772,
      "dateisofull": "2025-02-13T20:08:10.027387"
  },
```

Podcastã‚’RSSã§é…ä¿¡ã™ã‚‹éš›ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚„æ—¥ä»˜ã¨ã„ã£ãŸåŸºæœ¬çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«åŠ ãˆã¦ã€GUID, ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®é•·ã•, éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®é•·ã•, éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚¤ãƒˆæ•°ã‚‚æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§æ³¨æ„ã§ã™ ã€‚

### â³å®šæœŸå®Ÿè¡Œ

GitHub Actionsã®cronæ©Ÿèƒ½ã§å®šæœŸå®Ÿè¡Œã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«åŠ ãˆã¦apiã®å‘¼ã³å‡ºã—ã®ãŸã‚ã®å¾…æ©Ÿæ™‚é–“ãŒé•·ã„ãŸã‚ã€æœˆ3000åˆ†ã®ç„¡æ–™æ ã‚’ä½¿ã„åˆ‡ã‚‹æã‚ŒãŒã‚ã‚Šãã†ã§ã™...(ä¸€è©±ã‚ãŸã‚Š4-6åˆ†)

```yaml
name: Podcast Auto Generation (ja)

on:
  schedule:
    - cron: '0 22 * * *'
  workflow_dispatch:

jobs:
  generate-podcast:
    runs-on: ubuntu-latest

    steps:
        - uses: actions/checkout@v4
  
        - name: Install uv
          uses: astral-sh/setup-uv@v5
  
        - name: Install the project
          run: uv sync --all-extras --dev
        
        - name: Install ffmpeg
          run: |
            sudo apt-get update
            sudo apt-get install -y ffmpeg
  
        - name: Generating Podcast
          env:
            GPTAPIKEY: ${{ secrets.GPTAPIKEY }}
            GGAPI: ${{ secrets.GGAPI }}
            AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
            AWS_ENDPOINT_URL: ${{ secrets.AWS_ENDPOINT_URL }}
            AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
            AWS_TOKEN: ${{ secrets.AWS_TOKEN }}
          run: uv run scraiping-ja.py

        - name: Commit changes using EndBug/add-and-commit
          uses: EndBug/add-and-commit@v9
          with:
            add: ./podcast-frontend/lib/episodes-ja.json
            message: "Update episodes.json via GitHub Actions"
            author_name: github-actions
            author_email: 41898282+github-actions[bot]@users.noreply.github.com
        
        - name: Delete all mp3 files in data subdirectories
          run: find ./data-ja -mindepth 2 -type f -name '*.mp3' -delete
```



## ğŸŒãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®è¨­è¨ˆã¨å®Ÿè£…
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã€ã»ã¨ã‚“ã©ç‰¹åˆ¥ãªå®Ÿè£…ã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚

ç´¹ä»‹ãƒšãƒ¼ã‚¸ã¯ã€ã§ãã‚‹ã ã‘ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã—ãªãŒã‚‰ã‚‚æ¬²ã—ã„æƒ…å ±ãŒã¾ã¨ã¾ã£ã¦ã„ã‚‹ã‚ˆã†ã«ä½œã‚Šã¾ã—ãŸ(ChatGPTãŒ)ã€‚

![](https://storage.googleapis.com/zenn-user-upload/b683b59d12d0-20250216.png)

ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯åŸºæœ¬çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«åŠ ãˆã¦ã€è¨€åŠå…ˆã®ãƒšãƒ¼ã‚¸ã¨HackerNewsã®ãƒªãƒ³ã‚¯, è‡ªå‹•ç”Ÿæˆã®ãŸã‚ã«ä½¿ã£ãŸåŸç¨¿ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/bd2d2b6f5d51-20250216.png)

### ğŸ‡¬ğŸ‡§i18nå¯¾å¿œ(ã¯ã—ã¦ã„ãªã„)

æœ¬æ ¼çš„ãªi18nå¯¾å¿œã‚‚é€”ä¸­ã¾ã§è¡Œã„ã¾ã—ãŸãŒã€ã‚ã¾ã‚Šã«ã‚‚è¦ä»¶ã«å¯¾ã—ã¦ã‚ªãƒ¼ãƒãƒ¼ã§ã‚ã‚‹ã“ã¨ã€App Router + i18nãŒé›£ã—ã™ãã‚‹ã®ã§ã€äºŒã¤ã®ãƒšãƒ¼ã‚¸ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§å¯¾å¿œã—ã¾ã—ãŸã€‚ãã®ãŸã‚ã€layout.tsxã§ä»¥ä¸‹ã®ã‚ˆã†ãªæƒ…å ±ã‚’å–å¾—ã—ã€

```typescript
const pathname = usePathname(); // ç¾åœ¨ã® URL ãƒ‘ã‚¹ã‚’å–å¾—
const currentLanguage = pathname.startsWith('/ja') ? 'ja' : 'en'; // `/ja` ã§å§‹ã¾ã‚‹ã‹ã©ã†ã‹ã§è¨€èªã‚’åˆ¤å®š
```

ãã®è¨€èªæƒ…å ±ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é€ã‚‹å½¢ã§å¯¾å¿œã—ã¾ã—ãŸã€‚

```jsx
<Header podcast={podcast} currentLanguage={currentLanguage} />
```

ãã®ãŸã‚ã€æ—¥æœ¬èªç‰ˆã¯`/ja`, è‹±èªç‰ˆã¯`/`ã¨ã„ã†ã‹ãŸã¡ã§å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€æ—¥æœ¬èªç‰ˆã¨è‹±èªç‰ˆã«ãã‚Œãã‚Œjsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ã“ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è¨€èªæƒ…å ±ã‚’æ¸¡ã™å½¢ã§å¤‰æ›´, `page.tsx`ã¯`/app`é…ä¸‹ã¨`/ja`é…ä¸‹ã«(èª­ã¿è¾¼ã‚€jsonãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–)å…¨ãåŒã˜ã‚‚ã®ã‚’é…ç½®ã—ã¦ã„ã¾ã™ã€‚

```json
{
  "title": "HackerVoice",
  "description": "Every day 8:00 A.M on PST, an LLM-powered host covers the top five trending topics from HackerNews in a fully automated podcast. This podcast is entirely automatically generated and may contain errors made by AI.",
  "link": "https://hackervoice.vercel.app/",
  "language": "en",
  "image": "https://hackervoice.vercel.app/image.png",
  "imagePodcastRule": "https://hackervoice.vercel.app/image-1400.jpg",
  "favicon": "/image.png",
  "copyright": "2025 HackerVoice",
  "logo":"/image.png",
  "feedUrl": "https://hackervoice.vercel.app/rss",
  "siteUrl": "https://hackervoice.vercel.app/",
  "ituens":{
    "explicit": "false",
    "author": "HackerVoice",
    "category": {
      "parent": "Technology",
      "child": "Technology"
    },
    "type": "episodic",
    "owner": {
      "name": "Tatsuhiko Akiyama",
      "email": "tatsuhiko.shigoto@gmail.com"
  }
  },
  "spotify": "https://open.spotify.com/show/2iSlf6WYOH1d24tct8HdqP?si=nCYYQwxqQGGvclgsGF9Thg",
  "applePodcast": "https://podcasts.apple.com/us/podcast/hackervoice/id1796644904"
}
```

### ğŸ“¡ RSSãƒ•ã‚£ãƒ¼ãƒ‰ã®è‡ªå‹•æ›´æ–°

ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆé…ä¿¡ã®æ ¸ã¨ãªã‚‹RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«è‡ªå‹•ç”Ÿæˆã—ã€æœ€æ–°ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’ãƒªã‚¹ãƒŠãƒ¼ã«å±Šã‘ã‚‹ä»•çµ„ã¿ã‚’èª¬æ˜ã—ã¾ã™ã€‚

Podcastã®ãŸã‚ã®RSSå¯¾å¿œã«ã¯ã€Apple Podcastsã®å½¢ã«å¯¾å¿œã™ã‚‹ã“ã¨ã§ã»ã¨ã‚“ã©ã®Podcastã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™(ã“ã“é‡è¦ãªã®ã«å…¨ç„¶æƒ…å ±ãŒãªã„...)ã€‚

https://help.apple.com/itc/podcasts_connect/#/itcb54353390

æ³¨æ„ç‚¹ã¨ã—ã¦Spotify Podcastã§é…ä¿¡ã™ã‚‹éš›ã€ç™»éŒ²ã®ãŸã‚ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹æƒ…å ±ã‚’RSSä¸Šã«è¼‰ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```xml
<itunes:owner>
  <itunes:name>åå‰</itunes:name>
  <itunes:email>email@example.com</itunes:email>
</itunes:owner>
```

ã¾ãŸã€ValidatorãŒã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã§æä¾›ã•ã‚Œã¦ãŠã‚Šã€ç§ã¯Cast Feed Validatorã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚ãƒ†ã‚¹ãƒˆã®ãŸã‚ã®Previewæ©Ÿèƒ½ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€éå¸¸ã«ä¾¿åˆ©ã§ã—ãŸã€‚

![](https://storage.googleapis.com/zenn-user-upload/9b67cde3de47-20250216.png)

https://www.castfeedvalidator.com/

RSSã®é…ä¿¡ã«ã¯rssãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚å‚è€ƒå®Ÿè£…ã®æƒ…å ±ãŒå°‘ãªã„ãŸã‚ã€å…¬é–‹ã—ã¾ã™ã€‚

```typescript
// src/app/ja/rss.ts
import RSS from 'rss';
import podcast from '@/lib/podcast-ja.json';
import episodes from '@/lib/episodes-ja.json';
import { DateTime } from 'luxon';

export async function GET() {
  const feed = new RSS({
    title: podcast.title,
    description: podcast.description,
    feed_url: podcast.feedUrl,
    site_url: podcast.siteUrl,
    image_url: podcast.imagePodcastRule,
    language: podcast.language,
    ttl: 60,
    custom_namespaces: {
      itunes: 'http://www.itunes.com/dtds/podcast-1.0.dtd',
      podcast: 'https://podcastindex.org/namespace/1.0'
    },
    custom_elements: [
      { 'itunes:image': { _attr: { href: podcast.imagePodcastRule } } },
      {
        'itunes:category': {
          _attr: { text: podcast.ituens.category.parent },
          'itunes:category': {
            _attr: { text: podcast.ituens.category.child }
          }
        }
      },
      {
        'itunes:owner': [
          { 'itunes:name': podcast.ituens.owner.name },
          { 'itunes:email': podcast.ituens.owner.email }
        ]
      },
      { 'itunes:explicit': podcast.ituens.explicit },
      { 'itunes:author': podcast.ituens.author },
      { 'itunes:title': podcast.title },
      { 'itunes:type': podcast.ituens.type },
      { copyright: podcast.copyright },
    ]
  });

  episodes.forEach((episode) => {
    const episodeUrl = `${podcast.siteUrl}#episode-${episode.id}`;
    const descriptionHTML = 
    `
    <description>
    <![CDATA[
      <p>å–ã‚Šæ‰±ã£ãŸè¨˜äº‹:</p>
      <ul>
        ${episode.news.map(news => `
          <li>
            <a href="${news.url}">${news.title}</a> - 
            <a href="https://news.ycombinator.com/item?id=${news.item_id}">Hacker News</a>
          </li>
        `).join('')}
      </ul>
    ]]>
    </description>
    `;

    const episodeTitle = `Episode #${episode.id}: ${episode.date}`;
    const rfc2822Date = DateTime.fromISO(episode.dateisofull).toRFC2822();

    feed.item({
      title: episodeTitle,
      date: String(rfc2822Date),
      description: descriptionHTML,
      url: episodeUrl,
      guid: episode.uuid,
      enclosure: {
        url: episode.audioUrl,
        type: 'audio/mpeg',
        size: episode.episodelength
      },
      custom_elements: [
        { 'itunes:episode': episode.id },
        { 'itunes:duration': episode.duration },
      ]
    });
  });

  const xml = feed.xml({ indent: true });

  return new Response(xml, {
    status: 200,
    headers: {
      'Content-Type': 'text/xml'
    }
  });
}
```

RSS Feedã«ãŠã„ã¦ã€äºˆæƒ³å¤–ã®è¦æ±‚ãŒã„ãã¤ã‹Podcastã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚ã‚‹ãŸã‚ã€A Podcasterâ€™s Guide to RSSã¯ä¸€èª­ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

## ğŸš§ é‹ç”¨èª²é¡Œãƒ»ä»Šå¾Œã®å±•æœ›

ä¸€é€£ã®é…ä¿¡ã®ä»•çµ„ã¿ã‚„ã€è‡ªå‹•ç”Ÿæˆã®ãƒ•ãƒ­ãƒ¼ç­‰ã¯å®Œæˆã—ãŸä¸€æ–¹ã§ã€ç•ªçµ„è‡ªä½“ã®é¢ç™½ã•ã«ã¯ã¾ã å‘ä¸Šç‚¹ãŒã‚ã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã‚‚ã£ã¨ã‚³ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã‚’å–ã‚Šä¸Šã’ã‚‹ã“ã¨ã€TTSã®ç²¾åº¦ã‚’é«˜ã‚ã‚‹ãŸã‚ã®åŸç¨¿ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã€LLMã®ãƒ€ãƒ–ãƒ«åŸç¨¿ãƒã‚§ãƒƒã‚¯ãªã©ã‚’è¡Œã†ã“ã¨ã‚’è€ƒãˆã¦ã„ã¾ã™ã€‚

ã¾ãŸã€æƒ…å ±æºã‚’HackerNewsã«é™ã‚‰ãšã€ä»–ã®æ²ç¤ºç‰ˆã€ãƒ–ãƒ­ã‚°ãªã©ã‚’å–å¾—ã—ã¦ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã™ã‚‹ãªã©ã€å€‹äººã®è¶£å‘³å—œå¥½ã«åˆã‚ã›ã¦Podcastã‚’ãŠå±Šã‘ã™ã‚‹å½¢ã‚’è¿‘ã„ã†ã¡ã«æä¾›ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

## ğŸ“ æœ€å¾Œã«

ä»Šå›ã®ãŸã‚ã«ä½œã£ãŸä¸€é€£ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ã¦å…¬é–‹ä¸­ã§ã™ã€‚o3-mini-highã‚ãŸã‚Šã«çªã£è¾¼ã‚“ã§ã„ã„æ„Ÿã˜ã«æŒ‡ç¤ºã•ã›ã‚‹ã¨å¤šåˆ†è‡ªåˆ†ã ã‘ã®Podcastç”ŸæˆãŒã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚

https://github.com/gorira-tatsu/hackernews-podcast-public

ãœã²HackerVoiceã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™!!!

https://hackervoice.vercel.app/
